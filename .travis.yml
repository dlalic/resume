language: rust

matrix:

  allow_failures:
    - rust: nightly

  fast_finish: true

  include:

  - rust: stable
    before_script:
    - rustup component add rustfmt
    after_success:
    - cargo bench
    - cargo fmt --all -- --check

  - rust: beta

  - rust: nightly
    before_script:
    - rustup component add rustfmt
    after_success:
    - cargo fmt --all -- --check
